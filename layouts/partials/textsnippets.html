<!-- Portfolio Grid Section -->
{{ with .Site.Data.textsnippets }}
<style>
{{ if .backgroundColor }}
#textsnippets {
    background-color: {{ .backgroundColor }} !important;
}
{{ end }}

{{ if .titleSize }}
#textsnippets .container > h2 {
    font-size: {{ .titleSize }}px !important;
    line-height: {{ mul .titleSize 1.375 }}px !important;
}
{{ end }}

{{ if .titleColor }}
#textsnippets .container > h2 {
    color: {{ .titleColor }} !important;
}
{{ end }}

{{ if .titleMargin }}
#textsnippets .container > h2 {
    margin: {{ .titleMargin }} !important;
}
{{ end }}

{{ if .lineColor }}
#textsnippets .container > hr {
    border-color: {{ .lineColor }} !important;
}
{{ end }}

{{ if .textSize }}
#textsnippets .container > p {
    font-size: {{ .textSize }}px !important;
    line-height: {{ mul .textSize 1.375 }}px !important;
}
{{ end }}

{{ if .textColor }}
#textsnippets .container > p {
    color: {{ .textColor }} !important;
}
{{ end }}

{{ if .filterSize }}
#textsnippets #filters li span {
    font-size: {{ .filterSize }}px !important;
    line-height: {{ mul .filterSize 1.375 }}px !important;
}
{{ end }}

{{ if .filterActiveColor }}
#textsnippets #filters li .filter {
    color: {{ .filterActiveColor }} !important;
}
{{ end }}

{{ if .filterActiveTextColor }}
#textsnippets #filters li .filter.active {
    color: {{ .filterActiveTextColor }} !important;
}
{{ end }}

{{ if .filterBorderColor }}
#textsnippets #filters li .filter.active {
    background-color: {{ .filterBorderColor }} !important;
}
#textsnippets #filters li .filter {
    border-color: {{ .filterBorderColor }} !important;
}
{{ end }}

{{ if .captionSize }}
#textsnippets .caption-text .text-title {
    font-size: {{ .captionSize }}px !important;
    line-height: {{ mul .captionSize 1.175 }}px !important;
}
#textsnippets .caption-text .text-category {
    font-size: {{ mul .captionSize 0.75 }}px !important;
    line-height: {{ mul .captionSize 1.0 }}px !important;
}
#textsnippets .mix .portfolio-wrapper .caption {
    height: {{ add (mul .captionSize 2.5) 32 }}px !important;
    bottom: -{{ add (mul .captionSize 2.5) 32 }}px !important;
}
#textsnippets .mix:hover .portfolio-wrapper .caption {
    bottom: 0px !important;
}
{{ end }}

{{ if .captionColor }}
#textsnippets .caption-text .text-title {
    color: {{ .captionColor }} !important;
}
#textsnippets .caption-text .text-category {
    color: {{ .captionColor }} !important;
}
{{ end }}

{{ if .captionBackgroundColor }}
#textsnippets .caption-bg {
    background-color: {{ .captionBackgroundColor }} !important;
}
{{ end }}

{{ if .panelBackgroundColor }}
.portfolio-modal #textsnippets-panel {box-shadow
    background-color: rgba( {{ .panelBackgroundColor }}, 0.3 ) !important;
    border-color: rgb( {{ .panelBackgroundColor }} );

}
.portfolio-modal #textsnippets-panel h2 {
    background-color: rgb( {{ .panelBackgroundColor }} ) !important;    
}
{{ end }}

{{ if .panelColor }}
.portfolio-modal #textsnippets-panel h2 {
    color: {{ .panelColor }} !important;
}
{{ end }}

{{ if .panelTitleSize }}
.portfolio-modal #textsnippets-panel h2 {
    font-size: {{ .panelTitleSize }}px !important;
    line-height: {{ mul .panelTitleSize 1.375 }}px !important;
}
{{ end }}

{{ if .panelTitleColor }}
.portfolio-modal #textsnippets-panel h2 {
    color: {{ .panelTitleColor }} !important;
}
{{ end }}

{{ if .panelTextSize }}
.portfolio-modal #textsnippets-panel p {
    font-size: {{ .panelTextSize }}px !important;
    line-height: {{ mul .panelTextSize 1.375 }}px !important;
}
{{ end }}

{{ if .panelTextColor }}
.portfolio-modal #textsnippets-panel p {
    color: {{ .panelTextColor }} !important;
}
{{ end }}


{{ range $i, $e := .elements }}
    {{ if .panelBackgroundColor }}
    #gridModal{{ $i }} #textsnippets-panel {
        background-color: rgba( {{ .panelBackgroundColor }} ) !important;
        border-color: rgba( {{ .panelBackgroundColor }} );

    }
    #gridModal{{ $i }} #textsnippets-panel h2 {
        background-color: rgb( {{ .panelBackgroundColor }} ) !important;    
    }
    {{ end }}

    {{ if .panelColor }}
    #gridModal{{ $i }} #textsnippets-panel h2 {
        color: {{ .panelColor }} !important;
    }
    {{ end }}

    {{ if .captionSize }}
    #textsnippets #portfolio{{ $i }} .caption-text .text-title {
        font-size: {{ .captionSize }}px !important;
        line-height: {{ mul .captionSize 1.175 }}px !important;
    }
    #textsnippets #portfolio{{ $i }} .caption-text .text-category {
        font-size: {{ mul .captionSize 0.75 }}px !important;
        line-height: {{ mul .captionSize 1.0 }}px !important;
    }
    #textsnippets #portfolio{{ $i }} .portfolio-wrapper .caption {
        height: {{ add (mul .captionSize 2.5) 32 }}px !important;
        bottom: -{{ add (mul .captionSize 2.5) 32 }}px !important;
    }
    #textsnippets #portfolio{{ $i }}:hover .portfolio-wrapper .caption {
        bottom: 0px !important;
    }
    {{ end }}

    {{ if .captionColor }}
    #textsnippets #portfolio{{ $i }} .caption-text .text-title {
        color: {{ .captionColor }} !important;
    }
    #textsnippets #portfolio{{ $i }} .caption-text .text-category {
        color: {{ .captionColor }} !important;
    }
    {{ end }}

    {{ if .captionBackgroundColor }}
    #textsnippets #portfolio{{ $i }} .caption-bg {
        background-color: rgba( {{ .captionBackgroundColor }} ) !important;
    }
    {{ end }}

{{ end }}

</style>

<section id="textsnippets">
    <div class="container text-center wow fadeIn">
        <h2>{{ .title }}</h2>
        <p>{{ .subtitle | markdownify }}</p>
        <div class="row">
            <div class="col-lg-12">
                <div id="textsnippetslist">
                    <!-- NOTE: You can add more items to the grid, or remove items you don't need! -->
                    {{ range $i, $e := .elements }}
                    <div class="mix {{ range .filters }}{{ . | replaceRE "[ ÄäÀàÁáÂâÃãÅåǍǎĄąĂăÆæĀāÇçĆćĈĉČčĎđĐďðÈèÉéÊêËëĚěĘęĖėĒēĜĝĢģĞğĤĥÌìÍíÎîÏïıĪīĮįĴĵĶķĹĺĻļŁłĽľÑñŃńŇňŅņÖöÒòÓóÔôÕõŐőØøŒœŔŕŘřẞßŚśŜŝŞşŠšȘșŤťŢţÞþȚțÜüÙùÚúÛûŰűŨũŲųŮůŪūŴŵÝýŸÿŶŷŹźŽžŻż]" "-" }} {{ end }}" id="portfolio{{ $i }}" {{ if not .content }}style="box-shadow: none"{{ end }} href="#">
                        <div class="portfolio-wrapper">
                            <a href="#gridModal{{ $i }}" data-toggle="modal">
                                <img src="{{ .image }}" alt="">
                                {{ if .content }}
                                <div class="caption">
                                    <div class="caption-text">
                                        <a class="text-title">{{ .captionTitle }}</a>
                                        <span class="text-category">{{ .captionCategory }}</span>
                                    </div>
                                    <div class="caption-bg"></div>
                                </div>
                                {{ end }}
                            </a>
                        </div>
                    </div>
                    {{ end }}
                </div>
            </div>
        </div>

    </div>
</section>

{{ range $i, $e := .elements }}
{{ if .content }}
<div class="portfolio-modal modal fade" id="gridModal{{ $i }}" tabindex="-1" role="dialog" aria-hidden="true" style="background-image: url('{{ .image }}')">
    <div class="modal-content" data-dismiss="modal">
        <div id="textsnippets-panel">
            <h2>{{ .captionTitle }}</h2>
            <p>{{ .content | markdownify }}</p>
            {{ if .video }}
            <video controls>
                <source src="{{ .video }}" type="video/mp4">
            </video>
            {{ end }}
        </div>
    </div>
</div>
{{ end }}
{{ end }}
{{ end }}
