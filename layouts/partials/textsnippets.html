<!-- Portfolio Grid Section -->
{{ with .Site.Data.textsnippets }}
<style>
{{ if .backgroundColor }}
#textsnippets {
    background-color: {{ .backgroundColor }} !important;
}
{{ end }}

{{ if .titleSize }}
#textsnippets .container > h2 {
    font-size: {{ .titleSize }}px !important;
    line-height: {{ mul .titleSize 1.375 }}px !important;
}
{{ end }}

{{ if .titleColor }}
#textsnippets .container > h2 {
    color: {{ .titleColor }} !important;
}
{{ end }}

{{ if .titleMargin }}
#textsnippets .container > h2 {
    margin: {{ .titleMargin }} !important;
}
{{ end }}

{{ if .lineColor }}
#textsnippets .container > hr {
    border-color: {{ .lineColor }} !important;
}
{{ end }}

{{ if .textSize }}
#textsnippets .container > p {
    font-size: {{ .textSize }}px !important;
    line-height: {{ mul .textSize 1.375 }}px !important;
}
{{ end }}

{{ if .textColor }}
#textsnippets .container > p {
    color: {{ .textColor }} !important;
}
{{ end }}

{{ if .filterSize }}
#textsnippets #filters li span {
    font-size: {{ .filterSize }}px !important;
    line-height: {{ mul .filterSize 1.375 }}px !important;
}
{{ end }}

{{ if .filterActiveColor }}
#textsnippets #filters li .filter2 {
    color: {{ .filterActiveColor }} !important;
}
{{ end }}

{{ if .filterActiveTextColor }}
#textsnippets #filters li .filter2.active {
    color: {{ .filterActiveTextColor }} !important;
}
{{ end }}

{{ if .filterBorderColor }}
#textsnippets #filters li .filter2.active {
    background-color: {{ .filterBorderColor }} !important;
}
#textsnippets #filters li .filter2 {
    border-color: {{ .filterBorderColor }} !important;
}
{{ end }}

{{ if .captionSize }}
#textsnippets .caption-text .text-title {
    font-size: {{ .captionSize }}px !important;
    line-height: {{ mul .captionSize 1.175 }}px !important;
}
#textsnippets .caption-text .text-category {
    font-size: {{ mul .captionSize 0.75 }}px !important;
    line-height: {{ mul .captionSize 1.0 }}px !important;
}
#textsnippets .mix2 .portfolio-wrapper .caption {
    height: {{ add (mul .captionSize 2.5) 32 }}px !important;
    bottom: -{{ add (mul .captionSize 2.5) 32 }}px !important;
}
#textsnippets .mix2:hover .portfolio-wrapper .caption {
    bottom: 0px !important;
}
{{ end }}

{{ if .captionColor }}
#textsnippets .caption-text .text-title {
    color: {{ .captionColor }} !important;
}
#textsnippets .caption-text .text-category {
    color: {{ .captionColor }} !important;
}
{{ end }}

{{ if .captionBackgroundColor }}
#textsnippets .caption-bg {
    background-color: {{ .captionBackgroundColor }} !important;
}
{{ end }}

{{ if .panelBackgroundColor }}
.portfolio-modal #textsnippets-panel {box-shadow
    background-color: rgba( {{ .panelBackgroundColor }}, 0.3 ) !important;
    border-color: rgb( {{ .panelBackgroundColor }} );

}
.portfolio-modal #textsnippets-panel h2 {
    background-color: rgb( {{ .panelBackgroundColor }} ) !important;    
}
{{ end }}

{{ if .panelColor }}
.portfolio-modal #textsnippets-panel h2 {
    color: {{ .panelColor }} !important;
}
{{ end }}

{{ if .panelTitleSize }}
.portfolio-modal #textsnippets-panel h2 {
    font-size: {{ .panelTitleSize }}px !important;
    line-height: {{ mul .panelTitleSize 1.375 }}px !important;
}
{{ end }}

{{ if .panelTitleColor }}
.portfolio-modal #textsnippets-panel h2 {
    color: {{ .panelTitleColor }} !important;
}
{{ end }}

{{ if .panelTextSize }}
.portfolio-modal #textsnippets-panel p {
    font-size: {{ .panelTextSize }}px !important;
    line-height: {{ mul .panelTextSize 1.375 }}px !important;
}
{{ end }}

{{ if .panelTextColor }}
.portfolio-modal #textsnippets-panel p {
    color: {{ .panelTextColor }} !important;
}
{{ end }}


{{ range $i, $e := .elements }}
    {{ if .panelBackgroundColor }}
    #textsnippetsModal{{ $i }} #textsnippets-panel {
        background-color: rgba( {{ .panelBackgroundColor }} ) !important;
        border-color: rgba( {{ .panelBackgroundColor }} );

    }
    #textsnippetsModal{{ $i }} #textsnippets-panel h2 {
        background-color: rgb( {{ .panelBackgroundColor }} ) !important;    
    }
    {{ end }}

    {{ if .panelColor }}
    #textsnippetsModal{{ $i }} #textsnippets-panel h2 {
        color: {{ .panelColor }} !important;
    }
    {{ end }}

    {{ if .captionSize }}
    #textsnippets #portfolio{{ $i }} .caption-text .text-title {
        font-size: {{ .captionSize }}px !important;
        line-height: {{ mul .captionSize 1.175 }}px !important;
    }
    #textsnippets #portfolio{{ $i }} .caption-text .text-category {
        font-size: {{ mul .captionSize 0.75 }}px !important;
        line-height: {{ mul .captionSize 1.0 }}px !important;
    }
    #textsnippets #portfolio{{ $i }} .portfolio-wrapper .caption {
        height: {{ add (mul .captionSize 2.5) 32 }}px !important;
        bottom: -{{ add (mul .captionSize 2.5) 32 }}px !important;
    }
    #textsnippets #portfolio{{ $i }}:hover .portfolio-wrapper .caption {
        bottom: 0px !important;
    }
    {{ end }}

    {{ if .captionColor }}
    #textsnippets #portfolio{{ $i }} .caption-text .text-title {
        color: {{ .captionColor }} !important;
    }
    #textsnippets #portfolio{{ $i }} .caption-text .text-category {
        color: {{ .captionColor }} !important;
    }
    {{ end }}

    {{ if .captionBackgroundColor }}
    #textsnippets #portfolio{{ $i }} .caption-bg {
        background-color: rgba( {{ .captionBackgroundColor }} ) !important;
    }
    {{ end }}

{{ end }}

</style>

<section id="textsnippets">
    <div class="container text-center wow fadeIn">
        <h2>{{ .title }}</h2>
        <p>{{ .subtitle | markdownify }}</p>
        <div class="row content-row">
            <div class="col-lg-12">
                <ul id="filters" class="filters nav nav-tabs">
                {{ $all := .all }}
                {{ range $i, $e := .filters }}
                  <li{{ if eq $i 0 }} class="active"{{ end }}>
                    <a data-toggle="tab" href="#filters-{{ .name | replaceRE "[ ÄäÀàÁáÂâÃãÅåǍǎĄąĂăÆæĀāÇçĆćĈĉČčĎđĐďðÈèÉéÊêËëĚěĘęĖėĒēĜĝĢģĞğĤĥÌìÍíÎîÏïıĪīĮįĴĵĶķĹĺĻļŁłĽľÑñŃńŇňŅņÖöÒòÓóÔôÕõŐőØøŒœŔŕŘřẞßŚśŜŝŞşŠšȘșŤťŢţÞþȚțÜüÙùÚúÛûŰűŨũŲųŮůŪūŴŵÝýŸÿŶŷŹźŽžŻż.,!?]" "-" | urlize }}">
                    {{ if .image }}
                    <img src="{{ .image }}" height="33" />
                    {{ else }}
                    {{ .name }}
                    {{ end }}
                    </a>
                  </li>
                {{ end }}
                </ul>
                <div class="tab-content">
                {{ range $i, $e := .filters }}
                    <div id="filters-{{ .name | replaceRE "[ ÄäÀàÁáÂâÃãÅåǍǎĄąĂăÆæĀāÇçĆćĈĉČčĎđĐďðÈèÉéÊêËëĚěĘęĖėĒēĜĝĢģĞğĤĥÌìÍíÎîÏïıĪīĮįĴĵĶķĹĺĻļŁłĽľÑñŃńŇňŅņÖöÒòÓóÔôÕõŐőØøŒœŔŕŘřẞßŚśŜŝŞşŠšȘșŤťŢţÞþȚțÜüÙùÚúÛûŰűŨũŲųŮůŪūŴŵÝýŸÿŶŷŹźŽžŻż.,!?]" "-" | urlize }}" class="tab-pane fade{{ if eq $i 0 }} in active{{ end }}">
                        <div class="portfolio-filter">
                            <ul id="filters" class="clearfix">
                                <li>
                                    <span class="filter2 active" data-filter=".{{ .name | replaceRE "[ ÄäÀàÁáÂâÃãÅåǍǎĄąĂăÆæĀāÇçĆćĈĉČčĎđĐďðÈèÉéÊêËëĚěĘęĖėĒēĜĝĢģĞğĤĥÌìÍíÎîÏïıĪīĮįĴĵĶķĹĺĻļŁłĽľÑñŃńŇňŅņÖöÒòÓóÔôÕõŐőØøŒœŔŕŘřẞßŚśŜŝŞşŠšȘșŤťŢţÞþȚțÜüÙùÚúÛûŰűŨũŲųŮůŪūŴŵÝýŸÿŶŷŹźŽžŻż.,!?]" "-" | urlize }}">{{ $all }}</span>
                                </li>
                                {{ range $j, $el := .topics }}
                                <li>
                                    {{ if eq $j 0 }}
                                    <span class="filter2 active" data-filter=".{{ . | replaceRE "[ ÄäÀàÁáÂâÃãÅåǍǎĄąĂăÆæĀāÇçĆćĈĉČčĎđĐďðÈèÉéÊêËëĚěĘęĖėĒēĜĝĢģĞğĤĥÌìÍíÎîÏïıĪīĮįĴĵĶķĹĺĻļŁłĽľÑñŃńŇňŅņÖöÒòÓóÔôÕõŐőØøŒœŔŕŘřẞßŚśŜŝŞşŠšȘșŤťŢţÞþȚțÜüÙùÚúÛûŰűŨũŲųŮůŪūŴŵÝýŸÿŶŷŹźŽžŻż.,!?]" "-" | urlize }}">{{ . }}</span>
                                    {{ else }}
                                    <span class="filter2" data-filter=".{{ . | replaceRE "[ ÄäÀàÁáÂâÃãÅåǍǎĄąĂăÆæĀāÇçĆćĈĉČčĎđĐďðÈèÉéÊêËëĚěĘęĖėĒēĜĝĢģĞğĤĥÌìÍíÎîÏïıĪīĮįĴĵĶķĹĺĻļŁłĽľÑñŃńŇňŅņÖöÒòÓóÔôÕõŐőØøŒœŔŕŘřẞßŚśŜŝŞşŠšȘșŤťŢţÞþȚțÜüÙùÚúÛûŰűŨũŲųŮůŪūŴŵÝýŸÿŶŷŹźŽžŻż.,!?]" "-" | urlize }}">{{ . }}</span>
                                    {{ end }}
                                </li>
                                {{ end }}
                            </ul>
                        </div>
                    </div>
                {{ end }}
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-lg-12">
                <div id="textsnippetslist">
                    <!-- NOTE: You can add more items to the grid, or remove items you don't need! -->
                    {{ range $i, $e := .elements }}
                    <div class="mix2 {{ range .filters }}{{ . | replaceRE "[ ÄäÀàÁáÂâÃãÅåǍǎĄąĂăÆæĀāÇçĆćĈĉČčĎđĐďðÈèÉéÊêËëĚěĘęĖėĒēĜĝĢģĞğĤĥÌìÍíÎîÏïıĪīĮįĴĵĶķĹĺĻļŁłĽľÑñŃńŇňŅņÖöÒòÓóÔôÕõŐőØøŒœŔŕŘřẞßŚśŜŝŞşŠšȘșŤťŢţÞþȚțÜüÙùÚúÛûŰűŨũŲųŮůŪūŴŵÝýŸÿŶŷŹźŽžŻż.,!?]" "-" | urlize }} {{ end }}" id="portfolio{{ $i }}" {{ if not .content }}style="box-shadow: none"{{ end }} href="#">
                        <div class="portfolio-wrapper">
                            <a href="#textsnippetsModal{{ $i }}" data-toggle="modal">
                                <img id="textsnippetsImg{{ $i }}" src="{{ .image }}" alt="">
                                {{ if .imageTitle }}
                                <div class="image-title"><span>{{ .imageTitle | markdownify }}</span></div>
                                {{ end }}
                                {{ if .imageDate }}
                                <div class="image-date"><span>{{ .imageDate }}</span></div>
                                {{ end }}
                                {{ if .content }}
                                <div class="caption">
                                    <div class="caption-text" href="#textsnippetsModal{{ $i }}" data-toggle="modal">
                                        <a class="text-title">{{ .captionText }}</a>
                                    </div>
                                    <a>
                                        <div class="caption-bg"></div>
                                    </a>
                                </div>
                                {{ end }}
                            </a>
                        </div>
                    </div>
                    {{ end }}
                </div>
            </div>
        </div>

    </div>
</section>

{{ range $i, $e := .elements }}
{{ if .content }}
<div class="portfolio-modal modal fade" id="textsnippetsModal{{ $i }}" tabindex="-1" role="dialog" aria-hidden="true" style="background-image: url('{{ .contentImage }}')" parent="#textsnippetsImg{{ $i }}">
    <div class="modal-content" data-dismiss="modal">
        <div id="textsnippets-panel">
            <h2>{{ .imageTitle }}</h2>
            <p>{{ .content | markdownify }}</p>
            {{ if .video }}
            <video controls>
                <source src="{{ .video }}" type="video/mp4">
            </video>
            {{ end }}
            <div class="end"></div>
        </div>
    </div>
</div>
{{ end }}
{{ end }}
{{ end }}
